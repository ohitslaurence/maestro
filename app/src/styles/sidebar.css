/* =============================================================================
   Sidebar Styles
   ============================================================================= */

.sidebar {
  background: var(--surface-sidebar);
  backdrop-filter: blur(32px) saturate(1.4);
  -webkit-backdrop-filter: blur(32px) saturate(1.4);
  border-right: 1px solid var(--border-subtle);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  min-width: var(--sidebar-min-width);
  max-width: var(--sidebar-max-width);
}

/* Reduced transparency fallback */
@media (prefers-reduced-transparency: reduce) {
  .sidebar {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }
}

/* =============================================================================
   Sidebar Header
   ============================================================================= */

.sidebar-header {
  /* Account for macOS traffic lights */
  padding: var(--space-4);
  padding-top: calc(var(--titlebar-height) - var(--space-2));
  padding-left: var(--titlebar-inset-left);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: var(--space-3);
  /* Make header draggable like title bar */
  -webkit-app-region: drag;
}

.sidebar-header h1 {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Buttons in header should not be draggable */
.sidebar-header button,
.sidebar-header a {
  -webkit-app-region: no-drag;
}

/* =============================================================================
   Sidebar Footer
   ============================================================================= */

.sidebar-footer {
  padding: var(--space-4);
  border-top: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

/* =============================================================================
   Session List
   ============================================================================= */

.session-list {
  padding: var(--space-4);
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}

.session-list h2 {
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  color: var(--text-tertiary);
  margin-bottom: var(--space-3);
  letter-spacing: 0.5px;
}

.session-list ul {
  list-style: none;
}

.session-list li {
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  cursor: pointer;
  margin-bottom: var(--space-1);
  font-size: var(--text-sm);
  color: var(--text-secondary);
  transition: all var(--transition-fast);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.session-list li:hover {
  background: var(--surface-card-hover);
  color: var(--text-primary);
}

.session-list li.selected {
  background: var(--accent-primary-muted);
  color: var(--text-primary);
}

.session-list li.selected:hover {
  background: var(--accent-primary-muted);
}

/* =============================================================================
   Disabled State
   ============================================================================= */

.session-list--disabled {
  opacity: 0.5;
  pointer-events: none;
}

.session-list--disabled .empty {
  opacity: 1;
}
